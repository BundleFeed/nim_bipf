/* Generated by Nim Compiler v1.6.12 */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyTuple__UV3llMMYFckfui8YMBuUZA tyTuple__UV3llMMYFckfui8YMBuUZA;
typedef struct tySequence__lBgZ7a89beZGYPl8PiANMTA tySequence__lBgZ7a89beZGYPl8PiANMTA;
typedef struct tySequence__lBgZ7a89beZGYPl8PiANMTA_Content tySequence__lBgZ7a89beZGYPl8PiANMTA_Content;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tyTuple__UV3llMMYFckfui8YMBuUZA {
NimStringV2 Field0;
NimStringV2 Field1;
};
struct tySequence__lBgZ7a89beZGYPl8PiANMTA {
  NI len; tySequence__lBgZ7a89beZGYPl8PiANMTA_Content* p;
};


#ifndef tySequence__lBgZ7a89beZGYPl8PiANMTA_Content_PP
#define tySequence__lBgZ7a89beZGYPl8PiANMTA_Content_PP
struct tySequence__lBgZ7a89beZGYPl8PiANMTA_Content { NI cap; NIM_CHAR data[SEQ_DECL_SIZE];};
#endif

      static N_INLINE(void, addInt__stdZprivateZdigitsutils_196)(NimStringV2* result, NI x);
N_LIB_PRIVATE N_NIMCALL(void, addInt__stdZprivateZdigitsutils_174)(NimStringV2* result, NI64 x);
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src);
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(void, prepareAdd)(NimStringV2* s, NI addlen);
N_LIB_PRIVATE N_NIMCALL(void, addQuoted__pureZos_494)(NimStringV2* s, NimStringV2 x);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, collectionToString__OOZOOZnim95bipfZserde95json_2052)(tySequence__lBgZ7a89beZGYPl8PiANMTA x, NimStringV2 prefix, NimStringV2 separator, NimStringV2 suffix);
N_LIB_PRIVATE N_NIMCALL(void, eqcopy___system_3266)(NimStringV2* dest, NimStringV2 src);
N_LIB_PRIVATE N_NIMCALL(void, addQuoted__OOZOOZnim95bipfZserde95json_2082)(NimStringV2* s, NIM_CHAR x);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__n49a9aYp5BrbXv9a6OCpJYm0g_2 = { 1 | NIM_STRLIT_FLAG, "(" };
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_3 = {1, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_2};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__n49a9aYp5BrbXv9a6OCpJYm0g_4 = { 2 | NIM_STRLIT_FLAG, ", " };
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_5 = {2, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_4};
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_6 = {2, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__n49a9aYp5BrbXv9a6OCpJYm0g_7 = { 1 | NIM_STRLIT_FLAG, "," };
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_8 = {1, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_7};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__n49a9aYp5BrbXv9a6OCpJYm0g_9 = { 1 | NIM_STRLIT_FLAG, ")" };
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_10 = {1, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_9};
static const struct {
  NI cap; NIM_CHAR data[2+1];
} TM__n49a9aYp5BrbXv9a6OCpJYm0g_11 = { 2 | NIM_STRLIT_FLAG, "@[" };
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_12 = {2, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_11};
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_13 = {2, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_4};
static const struct {
  NI cap; NIM_CHAR data[1+1];
} TM__n49a9aYp5BrbXv9a6OCpJYm0g_14 = { 1 | NIM_STRLIT_FLAG, "]" };
static const NimStringV2 TM__n49a9aYp5BrbXv9a6OCpJYm0g_15 = {1, (NimStrPayload*)&TM__n49a9aYp5BrbXv9a6OCpJYm0g_14};
extern NIM_BOOL nimInErrorMode__system_4237;
static N_INLINE(void, addInt__stdZprivateZdigitsutils_196)(NimStringV2* result, NI x) {
	addInt__stdZprivateZdigitsutils_174(result, ((NI64) (x)));
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___systemZdollars_3)(NI x) {
	NimStringV2 result;
	result.len = 0; result.p = NIM_NIL;
	addInt__stdZprivateZdigitsutils_196((&result), x);
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}
static N_INLINE(void, copyMem__system_1709)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringV2* dest, NimStringV2 src) {
	{
		if (!(((NI) 0) < src.len)) goto LA3_;
		copyMem__system_1709(((void*) ((&(*(*dest).p).data[(*dest).len]))), ((void*) ((&(*src.p).data[((NI) 0)]))), ((NI) ((NI)(src.len + ((NI) 1)))));
		(*dest).len += src.len;
	}
	LA3_: ;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___pureZos_474)(tyTuple__UV3llMMYFckfui8YMBuUZA* x) {
	NimStringV2 result;
	NI count;
	result.len = 0; result.p = NIM_NIL;
	result = TM__n49a9aYp5BrbXv9a6OCpJYm0g_3;
	count = ((NI) 0);
	{
		if (!(((NI) 0) < count)) goto LA3_;
		prepareAdd((&result), 2);
appendString((&result), TM__n49a9aYp5BrbXv9a6OCpJYm0g_5);
	}
	LA3_: ;
	count += ((NI) 1);
	addQuoted__pureZos_494((&result), (*x).Field0);
	{
		if (!(((NI) 0) < count)) goto LA7_;
		prepareAdd((&result), 2);
appendString((&result), TM__n49a9aYp5BrbXv9a6OCpJYm0g_6);
	}
	LA7_: ;
	count += ((NI) 1);
	addQuoted__pureZos_494((&result), (*x).Field1);
	{
		if (!(count == ((NI) 1))) goto LA11_;
		prepareAdd((&result), 1);
appendString((&result), TM__n49a9aYp5BrbXv9a6OCpJYm0g_8);
	}
	LA11_: ;
	prepareAdd((&result), 1);
appendString((&result), TM__n49a9aYp5BrbXv9a6OCpJYm0g_10);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, collectionToString__OOZOOZnim95bipfZserde95json_2052)(tySequence__lBgZ7a89beZGYPl8PiANMTA x, NimStringV2 prefix, NimStringV2 separator, NimStringV2 suffix) {
	NimStringV2 result;
	NIM_BOOL firstElement;
	result.len = 0; result.p = NIM_NIL;
	eqcopy___system_3266((&result), prefix);
	firstElement = NIM_TRUE;
	{
		NIM_CHAR* value;
		NI i;
		NI L;
		NI T2_;
		value = (NIM_CHAR*)0;
		i = ((NI) 0);
		T2_ = x.len;
		L = T2_;
		{
			while (1) {
				if (!(i < L)) goto LA4;
				value = (&x.p->data[i]);
				{
					if (!firstElement) goto LA7_;
					firstElement = NIM_FALSE;
				}
				goto LA5_;
				LA7_: ;
				{
					prepareAdd((&result), separator.len + 0);
appendString((&result), separator);
				}
				LA5_: ;
				addQuoted__OOZOOZnim95bipfZserde95json_2082((&result), (*value));
				i += ((NI) 1);
			} LA4: ;
		}
	}
	prepareAdd((&result), suffix.len + 0);
appendString((&result), suffix);
	return result;
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_4237);
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___OOZOOZnim95bipfZserde95json_2048)(tySequence__lBgZ7a89beZGYPl8PiANMTA x) {
	NimStringV2 result;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result.len = 0; result.p = NIM_NIL;
	result = collectionToString__OOZOOZnim95bipfZserde95json_2052(x, TM__n49a9aYp5BrbXv9a6OCpJYm0g_12, TM__n49a9aYp5BrbXv9a6OCpJYm0g_13, TM__n49a9aYp5BrbXv9a6OCpJYm0g_15);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
